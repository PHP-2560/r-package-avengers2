source('C:/Users/gabriel/Dropbox (Brown)/III_year/PHP2560/r-package-avengers2/fecScrape/R/query_candidate_list.R', echo=TRUE)
getwd()
source('C:/Users/gabriel/Dropbox (Brown)/III_year/PHP2560/r-package-avengers2/fecScrape/R/query_candidate_list.R', echo=TRUE)
source('C:/Users/gabriel/Dropbox (Brown)/III_year/PHP2560/r-package-avengers2/fecScrape/R/query_candidate_list.R', echo=TRUE)
source('C:/Users/gabriel/Dropbox (Brown)/III_year/PHP2560/r-package-avengers2/fecScrape/R/query_candidate_list.R', echo=TRUE)
# input_api <- "jFTYk34OsWkFoEHLcUDa7G1Ax4GCyhJyAgCwB8oz"
source("./fecScrape/R/get_itemized_contributions.R")
get_contributions<- function(input_candlist) {
contributions<-list()
for (c in 1:dim(input_candlist)[1]) {
cname<-input_candlist$name[c] %>%
strsplit(split = ",") %>%
simplify() %>%
first()
temp<-get_itemized_contributions(data = input_candlist[c,])
contributions[[c]]<-temp
contributions[[c]]$candidate<-cname
names(contributions)[c]<-paste0("contributions_",cname)
}
if (dim(input_candlist)[1]==1) {
return(contributions)
} else {
# contributions[[(dim(input_candlist)[1] + 1)]]<-append(contributions[[1:dim(candidates)[1]]]) # to finish
contributions_all<-do.call(rbind, contributions)
return(contributions_all)
}
}
contributions<-get_contributions(candidates)
save(contributions, file = "WY_contr")
# input_api <- "jFTYk34OsWkFoEHLcUDa7G1Ax4GCyhJyAgCwB8oz"
source("get_itemized_contributions.R")
get_contributions<- function(input_candlist) {
contributions<-list()
for (c in 1:dim(input_candlist)[1]) {
cname<-input_candlist$name[c] %>%
strsplit(split = ",") %>%
simplify() %>%
first()
temp<-get_itemized_contributions(data = input_candlist[c,])
contributions[[c]]<-temp
contributions[[c]]$candidate<-cname
names(contributions)[c]<-paste0("contributions_",cname)
}
if (dim(input_candlist)[1]==1) {
return(contributions)
} else {
# contributions[[(dim(input_candlist)[1] + 1)]]<-append(contributions[[1:dim(candidates)[1]]]) # to finish
contributions_all<-do.call(rbind, contributions)
return(contributions_all)
}
}
contributions<-get_contributions(candidates)
save(contributions, file = "WY_contr")
source("get_itemized_contributions.R")
getwd()
source("get_itemized_contributions.R")
source("get_itemized_contributions")
source("get_itemized_contributions.R")
source("get_itemized_contributions.R")
source("get_itemized_contributions.R")
source('C:/Users/gabriel/Dropbox (Brown)/III_year/PHP2560/r-package-avengers2/fecScrape/R/get_contributions_all.R', echo=TRUE)
source('C:/Users/gabriel/Dropbox (Brown)/III_year/PHP2560/r-package-avengers2/fecScrape/R/get_contributions_all.R', echo=TRUE)
load("WY_contr")
